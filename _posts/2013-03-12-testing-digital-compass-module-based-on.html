---
layout: post
title: Testing a Digital Compass module based on MMC2120MG magnetic sensor
date: '2013-03-12T14:57:00.001+05:30'
author: Anonymous
tags:
- I2C
- MMC2120MG
- UART
- Compass
- Sensor
- Input
- Magnetic
modified_time: '2013-03-12T14:57:36.702+05:30'
thumbnail: http://lh4.ggpht.com/-MoyMwfPPe8M/UT70-FidHjI/AAAAAAAAASY/Md_HFIPTaOI/s72-c/282657_168290536573363_62333_n_thumb%25255B3%25255D.jpg?imgmax=800
blogger_id: tag:blogger.com,1999:blog-286864074933316179.post-1275049646074314307
blogger_orig_url: https://www.incrediblediy.com/2013/03/testing-digital-compass-module-based-on.html
---

<p>Here I’m going to show you how to use a digital compass for you robot project. This can be easily used to obtain the heading of the robot and adjust the path of it. I got this module and tested it before two years ago. Here,I’m using <a href="http://www.sureelectronics.net/goods.php?id=958" target="_blank">Sure Electronics DC-SS504</a> module which includes a MMC2120MG magnetic sensor. Actually this module has the magnetic sensor and a PIC16F690 on-board. This PIC is used here to drive the magnetic sensor and convert it’s I2C interface to UART interface. You can get a digital compass with I2C and drive it using your own uC too. Actually I got this for UART interface and this was used to build a robot.</p>  <p><u>Unboxing:</u></p>  <p>The compass arrived with a nice little plastic casing. I had the digital compass module and some 2.54mm connectors.</p>  <p><a href="http://lh5.ggpht.com/-SwyFL6vasAA/UT709Aoy_4I/AAAAAAAAASQ/BOwwACLbSIE/s1600-h/282657_168290536573363_62333_n%25255B5%25255D.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="282657_168290536573363_62333_n" border="0" alt="282657_168290536573363_62333_n" src="http://lh4.ggpht.com/-MoyMwfPPe8M/UT70-FidHjI/AAAAAAAAASY/Md_HFIPTaOI/282657_168290536573363_62333_n_thumb%25255B3%25255D.jpg?imgmax=800" width="562" height="484" /></a></p>  <p><u>Calibration:</u></p>  <p>As any other digital compass (including digital compasses on mobile phones), it had to be calibrated for the place where it’s going to use. The typical 8 direction motion was required for the calibration after issuing the calibration command. You can also set the magnetic declination using the appropriate command. You can find those on the <a href="http://www.sure-electronics.net/download/DC-SS504_Ver1.0_EN.pdf" target="_blank">datasheet</a>. These calibrations are easy as we use the UART interface provided by on-board uC. I also found out that if we issue the calibration command and don’t move the compass, you can measure the angle reference to that starting point. Cool!!! isn’t it ?</p>  <p><u>Testing:</u></p>  <p>I tested the compass by connecting it to the Pickit2 UART tool. Pickit2 got a cool logic analyser feature and UART tool built it. These feature are really helpful when doing projects. You can build your own Pickit2 lite from my <a href="http://www.incrediblediy.com/2011/07/homemade-usb-pic-programmer-pickit2.html" target="_blank">previous post</a>. </p>  <p><a href="http://lh3.ggpht.com/-daBKOSuVYHI/UT70-xeJI4I/AAAAAAAAASg/FIZkoRvldzI/s1600-h/266821_168305566571860_7908553_o%25255B3%25255D.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="266821_168305566571860_7908553_o" border="0" alt="266821_168305566571860_7908553_o" src="http://lh3.ggpht.com/-t0RTLsO24WA/UT70_7Ala2I/AAAAAAAAASo/epW0csYFszQ/266821_168305566571860_7908553_o_thumb%25255B1%25255D.jpg?imgmax=800" width="644" height="482" /></a></p>  <p><a href="http://lh4.ggpht.com/-JIw3d_Q6hkw/UT71A9Aq1qI/AAAAAAAAASw/XmAXtE67N4U/s1600-h/278297_168305513238532_4680939_o%25255B3%25255D.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="278297_168305513238532_4680939_o" border="0" alt="278297_168305513238532_4680939_o" src="http://lh4.ggpht.com/-Ez4U4-0ZOw0/UT71BxNisOI/AAAAAAAAAS4/f2JJnf6vAMw/278297_168305513238532_4680939_o_thumb%25255B1%25255D.jpg?imgmax=800" width="644" height="484" /></a></p>  
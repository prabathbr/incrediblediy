---

title: Driving external loads using ULN2803 with PIC16F887
date: '2013-02-16T19:16:00.001+05:30'

tags:
- 16F887
- Darlington
- ULN2803
- Driver
- DIY
- ULN2003
- development
modified_time: '2013-02-16T19:16:30.697+05:30'
thumbnail: http://lh5.ggpht.com/-u3heznhBd4o/UR-NjmQnmLI/AAAAAAAAADU/kRBb4UMG5_U/s72-c/wlEmoticon-surprisedsmile%25255B2%25255D.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-286864074933316179.post-1488857763054694470
blogger_orig_url: https://www.incrediblediy.com/2013/02/driving-external-loads-using-uln2803.html
---

<p>Here I’m going to drive external loads such as motors,relays,lamps…etc using a Darlington pair setup.The current can be provided by an I/O pin of a uC is not sufficient to drive such large loads.Even if you try to do so,you microcontroller will be damaged. <img style="border-bottom-style: none; border-right-style: none; border-top-style: none; border-left-style: none" class="wlEmoticon wlEmoticon-surprisedsmile" alt="Surprised smile" src="http://lh5.ggpht.com/-u3heznhBd4o/UR-NjmQnmLI/AAAAAAAAADU/kRBb4UMG5_U/wlEmoticon-surprisedsmile%25255B2%25255D.png?imgmax=800" />&#160;</p>  <p>ULN2803 is a popular Darlington pair IC with 8 Darlington pairs in open collector configuration.Open collector configuration is much useful to drive devices with different voltage requirements than the uC.You can find more information on ULN2803 from its <a href="http://www.datasheetcatalog.org/datasheets/90/366828_DS.pdf">datasheet</a>. I got ULN2803 for around Rs50 (US$0.4) and it’s easy to use than building from scratch.But please note that output voltage is up to 50V while maximum output collector current is 500mA.&#160; You can also use cheaper ULN2003 but it has only 7 Darlington pairs.</p>  <p>I’m going to build a simple circuit (by modifying the circuit from <a href="http://www.incrediblediy.com/2013/02/using-pic16f887-io-to-drive-external.html">previous post</a>) as follows to demonstrate the ULN2803’s usage <img style="border-bottom-style: none; border-right-style: none; border-top-style: none; border-left-style: none" class="wlEmoticon wlEmoticon-winkingsmile" alt="Winking smile" src="http://lh4.ggpht.com/-spudgmGKzkY/UR-NkCmQnjI/AAAAAAAAADc/hXC2shkjmkQ/wlEmoticon-winkingsmile%25255B2%25255D.png?imgmax=800" /></p>  <p><a href="http://lh4.ggpht.com/-Z9isswTYkqE/UR-Nmq2iSUI/AAAAAAAAADk/iq_OyZ_1yGg/s1600-h/DSCF5576_800x600%25255B4%25255D.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="DSCF5576_800x600" border="0" alt="DSCF5576_800x600" src="http://lh3.ggpht.com/-dqoGFqJBPno/UR-No4KcWdI/AAAAAAAAADs/XQi6XlRZTlQ/DSCF5576_800x600_thumb%25255B1%25255D.jpg?imgmax=800" width="795" height="371" /></a></p>  <p>Here I’m using LED with a series resistor as the load.The Vcc2 is used as +5V too.If you are going to drive motor or other device you have to use the needed voltage for that device as the Vcc2 (12V or so).</p>  <p>Here’s the driving of the led and the MikroC code for it.</p>  <p><a href="http://lh5.ggpht.com/-OaRP-7fmIzA/UR-Nrkyv2ZI/AAAAAAAAAD0/j6Ry_j2iHzQ/s1600-h/DSCF5571_800x600%25255B4%25255D.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="DSCF5571_800x600" border="0" alt="DSCF5571_800x600" src="http://lh6.ggpht.com/-eMQbZgU9GAw/UR-Ntfx9BII/AAAAAAAAAD8/209fGDxC178/DSCF5571_800x600_thumb%25255B1%25255D.jpg?imgmax=800" width="538" height="380" /></a></p>  <p>Note that bolded lines are use to bling this green LED <img style="border-bottom-style: none; border-right-style: none; border-top-style: none; border-left-style: none" class="wlEmoticon wlEmoticon-winkingsmile" alt="Winking smile" src="http://lh4.ggpht.com/-spudgmGKzkY/UR-NkCmQnjI/AAAAAAAAADc/hXC2shkjmkQ/wlEmoticon-winkingsmile%25255B2%25255D.png?imgmax=800" />Configuration bit for the project is same as for the <a href="http://www.incrediblediy.com/2013/02/simple-162-lcd-driver-with-pic16f887.html">previous post</a>.</p>  <table border="1" cellspacing="0" cellpadding="2" width="400"><tbody>     <tr>       <td valign="top" width="400">         <p>           <br />void main() {            <br />&#160;&#160;&#160; osccon = 0x70;            <br />&#160;&#160;&#160; ansel&#160; = 0;            <br />&#160;&#160;&#160; anselh&#160; = 0;            <br />&#160;&#160;&#160; trisa = 0;            <br />&#160;&#160;&#160; trisb = 0;            <br />&#160;&#160;&#160; trisc = 0;            <br />&#160;&#160;&#160; trisd = 0;            <br />&#160; <br />&#160; for(;;){            <br />&#160; portd.f4=1;            <br />&#160; <strong>porta.f7=1;             <br /></strong>&#160; delay_ms(5000);            <br />&#160; portd.f4=0;            <br />&#160; <strong>porta.f7=0;             <br /></strong>&#160; delay_ms(5000);            <br />&#160; }            <br />&#160;&#160;&#160; <br />}</p>       </td>     </tr>   </tbody></table>  